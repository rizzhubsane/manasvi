<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>For You ğŸ’Œ</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,600;1,300;1,600&family=DM+Sans:wght@300;400;500&display=swap"
        rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --ink: #1a0a0f;
            --rose: #c8294a;
            --blush: #f2a7ba;
            --petal: #fceef3;
            --gold: #d4a04a;
            --cream: #fdf6f0;
            --deep: #0d0508;
            --smoke: rgba(253, 246, 240, 0.06);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--deep);
            color: var(--cream);
            overflow-x: hidden;
            cursor: none;
        }

        /* â”€â”€ CUSTOM CURSOR â”€â”€ */
        #cursor {
            width: 12px;
            height: 12px;
            background: var(--rose);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: transform .12s ease, width .2s, height .2s, background .2s;
            mix-blend-mode: screen;
        }

        #cursor-trail {
            width: 36px;
            height: 36px;
            border: 1.5px solid rgba(200, 41, 74, .45);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9998;
            transform: translate(-50%, -50%);
            transition: left .1s ease, top .1s ease;
        }

        body:has(a:hover) #cursor,
        body:has(button:hover) #cursor {
            width: 28px;
            height: 28px;
            background: var(--gold);
        }

        /* â”€â”€ CANVAS BG â”€â”€ */
        #particleCanvas {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            opacity: .7;
        }

        /* â”€â”€ PAGE SYSTEM â”€â”€ */
        .page {
            position: fixed;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            transition: opacity .0s;
            overflow: hidden;
        }

        .page.active {
            opacity: 1;
            pointer-events: all;
        }

        /* â”€â”€ PAGE TRANSITIONS â”€â”€ */
        .page.enter-fade {
            animation: pgFadeIn .9s cubic-bezier(.4, 0, .2, 1) forwards;
        }

        .page.exit-fade {
            animation: pgFadeOut .7s cubic-bezier(.4, 0, .2, 1) forwards;
        }

        .page.enter-up {
            animation: pgSlideUp .85s cubic-bezier(.4, 0, .2, 1) forwards;
        }

        .page.exit-up {
            animation: pgExitUp .7s cubic-bezier(.4, 0, .2, 1) forwards;
        }

        .page.enter-curtain {
            animation: pgCurtain .9s cubic-bezier(.4, 0, .2, 1) forwards;
        }

        @keyframes pgFadeIn {
            from {
                opacity: 0;
                transform: scale(.96)
            }

            to {
                opacity: 1;
                transform: scale(1)
            }
        }

        @keyframes pgFadeOut {
            from {
                opacity: 1;
                transform: scale(1)
            }

            to {
                opacity: 0;
                transform: scale(1.04)
            }
        }

        @keyframes pgSlideUp {
            from {
                opacity: 0;
                transform: translateY(60px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        @keyframes pgExitUp {
            from {
                opacity: 1;
                transform: translateY(0)
            }

            to {
                opacity: 0;
                transform: translateY(-60px)
            }
        }

        @keyframes pgCurtain {
            from {
                clip-path: inset(0 0 100% 0)
            }

            to {
                clip-path: inset(0 0 0% 0)
            }
        }

        /* â”€â”€ PROGRESS DOTS â”€â”€ */
        #dots {
            position: fixed;
            right: 28px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 200;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(242, 167, 186, .3);
            border: 1.5px solid rgba(242, 167, 186, .5);
            cursor: pointer;
            transition: all .3s;
        }

        .dot.active {
            background: var(--rose);
            border-color: var(--rose);
            transform: scale(1.5);
            box-shadow: 0 0 12px var(--rose);
        }

        /* â”€â”€ SHARED ELEMENTS â”€â”€ */
        .serif {
            font-family: 'Cormorant Garamond', serif;
        }

        .page-num {
            position: absolute;
            bottom: 32px;
            left: 50%;
            transform: translateX(-50%);
            font-size: .7rem;
            letter-spacing: .25em;
            text-transform: uppercase;
            color: rgba(242, 167, 186, .4);
        }

        .continue-hint {
            position: absolute;
            bottom: 48px;
            left: 50%;
            transform: translateX(-50%);
            font-size: .72rem;
            letter-spacing: .2em;
            text-transform: uppercase;
            color: rgba(242, 167, 186, .5);
            animation: breathe 2.5s ease-in-out infinite;
            cursor: pointer;
            border: none;
            background: none;
            color: rgba(242, 167, 186, .5);
            font-family: 'DM Sans', sans-serif;
        }

        @keyframes breathe {

            0%,
            100% {
                opacity: .4;
                transform: translateX(-50%) translateY(0)
            }

            50% {
                opacity: 1;
                transform: translateX(-50%) translateY(-4px)
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE 0 â€” ENVELOPE / OPENING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #p0 {
            background: radial-gradient(ellipse at 50% 60%, #1f0810 0%, #0d0508 70%);
        }

        .envelope-wrap {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .envelope {
            width: 200px;
            height: 140px;
            position: relative;
            cursor: pointer;
            filter: drop-shadow(0 20px 60px rgba(200, 41, 74, .4));
        }

        .env-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, #8b1a2e, #c8294a);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }

        .env-body::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, .08) 0%, transparent 60%);
        }

        .env-flap {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: linear-gradient(160deg, #a02040, #e03060);
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            transform-origin: top center;
            transition: transform .8s cubic-bezier(.4, 0, .2, 1);
            z-index: 2;
        }

        .envelope:hover .env-flap,
        .envelope.open .env-flap {
            transform: rotateX(-180deg);
        }

        .env-letter {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 140px;
            height: 90px;
            background: var(--cream);
            border-radius: 2px 2px 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform .8s .2s cubic-bezier(.4, 0, .2, 1);
            box-shadow: 0 -4px 20px rgba(0, 0, 0, .3);
        }

        .envelope.open .env-letter {
            transform: translateX(-50%) translateY(-50px);
        }

        .env-letter-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            font-style: italic;
            color: var(--rose);
            text-align: center;
            line-height: 1.4;
        }

        .env-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.8rem;
            z-index: 3;
            transition: opacity .4s;
        }

        .envelope.open .env-seal {
            opacity: 0;
        }

        .p0-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2.5rem, 7vw, 5rem);
            font-weight: 300;
            font-style: italic;
            text-align: center;
            line-height: 1.1;
            opacity: 0;
            animation: fadeUp .9s .2s ease forwards;
        }

        .p0-title span {
            color: var(--rose);
        }

        .p0-sub {
            font-size: .85rem;
            letter-spacing: .18em;
            text-transform: uppercase;
            color: var(--blush);
            opacity: 0;
            animation: fadeUp .9s .5s ease forwards;
            text-align: center;
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(20px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .open-btn {
            margin-top: 1rem;
            padding: .85rem 2.8rem;
            border: 1.5px solid var(--rose);
            background: transparent;
            color: var(--cream);
            border-radius: 50px;
            font-family: 'DM Sans', sans-serif;
            font-size: .85rem;
            letter-spacing: .15em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all .35s;
            opacity: 0;
            animation: fadeUp .9s .8s ease forwards;
        }

        .open-btn:hover {
            background: var(--rose);
            box-shadow: 0 0 40px rgba(200, 41, 74, .6);
            transform: scale(1.04);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE 1 â€” STARFIELD / WHO YOU ARE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #p1 {
            background: radial-gradient(ellipse at 30% 50%, #1a0510 0%, #0d0508 80%);
            padding: 2rem;
        }

        .starfield {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .star {
            position: absolute;
            border-radius: 50%;
            background: white;
            animation: twinkle ease-in-out infinite;
        }

        @keyframes twinkle {

            0%,
            100% {
                opacity: .1;
                transform: scale(.8)
            }

            50% {
                opacity: .9;
                transform: scale(1.2)
            }
        }

        .traits-layout {
            display: grid;
            grid-template-columns: 1fr 1.4fr 1fr;
            gap: 1.5rem;
            max-width: 900px;
            width: 100%;
            align-items: center;
        }

        .trait-col {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .trait-pill {
            padding: .9rem 1.4rem;
            border: 1px solid rgba(242, 167, 186, .18);
            border-radius: 50px;
            font-size: .85rem;
            color: rgba(252, 238, 243, .75);
            letter-spacing: .06em;
            background: rgba(255, 255, 255, .03);
            backdrop-filter: blur(8px);
            text-align: center;
            opacity: 0;
            transform: translateX(-30px);
            transition: all .5s ease;
        }

        .trait-col:last-child .trait-pill {
            transform: translateX(30px);
        }

        .trait-pill.vis {
            opacity: 1;
            transform: translateX(0);
        }

        .trait-pill:hover {
            border-color: var(--blush);
            background: rgba(200, 41, 74, .1);
            color: white;
            box-shadow: 0 0 20px rgba(200, 41, 74, .15);
        }

        .center-circle {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: .6rem;
            text-align: center;
        }

        .circle-glow {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 1.5px solid rgba(200, 41, 74, .4);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            animation: rotateRing 12s linear infinite;
        }

        .circle-glow::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 50%;
            background: conic-gradient(var(--rose), transparent, var(--gold), transparent, var(--rose));
            opacity: .3;
            animation: rotateRing 8s linear infinite reverse;
        }

        @keyframes rotateRing {
            from {
                transform: rotate(0)
            }

            to {
                transform: rotate(360deg)
            }
        }

        .circle-inner {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: radial-gradient(ellipse, #2a0818, #0d0508);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: .3rem;
        }

        .circle-emoji {
            font-size: 3rem;
        }

        .circle-label {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            font-style: italic;
            color: var(--blush);
        }

        .center-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 300;
            font-style: italic;
            line-height: 1.2;
            margin-top: .8rem;
            text-align: center;
        }

        .center-sub {
            font-size: .8rem;
            letter-spacing: .15em;
            color: rgba(242, 167, 186, .5);
            text-transform: uppercase;
            margin-top: .3rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE 2 â€” CONFESSIONS (CARD FLIP)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #p2 {
            background: linear-gradient(135deg, #0d0508 0%, #1a0510 50%, #0d0508 100%);
            padding: 5rem 2rem 2rem;
        }

        .p2-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .p2-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-style: italic;
            color: var(--cream);
        }

        .p2-header p {
            color: rgba(242, 167, 186, .5);
            font-size: .8rem;
            letter-spacing: .18em;
            text-transform: uppercase;
            margin-top: .5rem;
        }

        .cards-row {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 1100px;
        }

        .flip-card {
            width: 220px;
            height: 280px;
            perspective: 1200px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .flip-inner {
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform .7s cubic-bezier(.4, 0, .2, 1);
            position: relative;
        }

        .flip-card:hover .flip-inner,
        .flip-card.flipped .flip-inner {
            transform: rotateY(180deg);
        }

        .flip-front,
        .flip-back {
            position: absolute;
            inset: 0;
            border-radius: 18px;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.8rem 1.4rem;
            text-align: center;
        }

        .flip-front {
            background: linear-gradient(145deg, #1f0812, #2a0c1a);
            border: 1px solid rgba(200, 41, 74, .25);
        }

        .flip-front-emoji {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .flip-front-hint {
            font-size: .72rem;
            letter-spacing: .12em;
            text-transform: uppercase;
            color: rgba(242, 167, 186, .4);
            margin-top: auto;
        }

        .flip-back {
            background: linear-gradient(145deg, var(--rose), #8b1a2e);
            transform: rotateY(180deg);
        }

        .flip-back p {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.05rem;
            font-style: italic;
            color: white;
            line-height: 1.65;
        }

        .flip-back .flip-num {
            font-size: .7rem;
            letter-spacing: .2em;
            color: rgba(255, 255, 255, .5);
            text-transform: uppercase;
            margin-bottom: .8rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE 3 â€” PHOTO GALLERY (POLAROID)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #p3 {
            background: radial-gradient(ellipse at 70% 30%, #1f0810 0%, #0d0508 75%);
            padding: 5rem 2rem 4rem;
            overflow: auto;
        }

        .p3-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .p3-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-style: italic;
        }

        .p3-header p {
            font-size: .8rem;
            letter-spacing: .15em;
            color: rgba(242, 167, 186, .45);
            text-transform: uppercase;
            margin-top: .4rem;
            display: none;
        }

        .polaroid-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: center;
            max-width: 1400px;
        }

        .polaroid {
            background: #fff;
            padding: .8rem .8rem .4rem;
            width: 280px;
            box-shadow: 0 8px 40px rgba(0, 0, 0, .5), 4px 4px 0 rgba(0, 0, 0, .15);
            cursor: pointer;
            transition: transform .4s cubic-bezier(.4, 0, .2, 1), box-shadow .4s;
            position: relative;
        }

        .polaroid:nth-child(2n) {
            transform: rotate(-2.5deg);
        }

        .polaroid:nth-child(3n) {
            transform: rotate(1.8deg);
        }

        .polaroid:nth-child(4n) {
            transform: rotate(-1.2deg);
        }

        .polaroid:nth-child(2n):hover,
        .polaroid:nth-child(3n):hover,
        .polaroid:nth-child(4n):hover,
        .polaroid:hover {
            transform: rotate(0) scale(1.08) translateY(-8px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, .6), 4px 4px 0 rgba(0, 0, 0, .2);
            z-index: 10;
        }

        .polaroid-photo {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, #1a0810, #2a0c1a);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: .4rem;
            position: relative;
            overflow: hidden;
        }

        .polaroid-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            inset: 0;
            display: none;
        }

        .polaroid-photo .pol-icon {
            font-size: 1.8rem;
            color: rgba(242, 167, 186, .4);
        }

        .polaroid-photo .pol-hint {
            font-size: .6rem;
            letter-spacing: .1em;
            color: rgba(242, 167, 186, .3);
            text-transform: uppercase;
            text-align: center;
            padding: 0 .5rem;
        }

        .polaroid-photo input[type=file] {
            position: absolute;
            inset: 0;
            opacity: 0;
            cursor: pointer;
            width: 100%;
            height: 100%;
        }

        .polaroid-caption {
            font-family: 'Cormorant Garamond', serif;
            font-size: .85rem;
            font-style: italic;
            color: #3a0a1a;
            text-align: center;
            padding: .5rem .2rem .3rem;
            line-height: 1.3;
        }

        .polaroid-tape {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 18px;
            background: rgba(255, 240, 200, .6);
            border-radius: 2px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE 4 â€” QUIZ (IMMERSIVE)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #p4 {
            background: radial-gradient(ellipse at 20% 80%, #1a0510 0%, #0d0508 80%);
            padding: 4rem 2rem;
        }

        .quiz-wrap {
            max-width: 640px;
            width: 100%;
            position: relative;
        }

        .quiz-bg-text {
            position: absolute;
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(8rem, 20vw, 16rem);
            font-weight: 600;
            font-style: italic;
            color: rgba(200, 41, 74, .04);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            white-space: nowrap;
            pointer-events: none;
            user-select: none;
        }

        .quiz-stage {
            background: rgba(255, 255, 255, .03);
            border: 1px solid rgba(200, 41, 74, .15);
            border-radius: 24px;
            padding: 3rem 2.5rem;
            backdrop-filter: blur(12px);
            position: relative;
            overflow: hidden;
        }

        .quiz-stage::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 24px;
            background: radial-gradient(ellipse at 80% 0%, rgba(200, 41, 74, .06), transparent 60%);
            pointer-events: none;
        }

        .q-indicator {
            display: flex;
            gap: .4rem;
            margin-bottom: 2rem;
        }

        .q-dot {
            height: 3px;
            flex: 1;
            border-radius: 2px;
            background: rgba(242, 167, 186, .15);
            transition: background .4s;
        }

        .q-dot.done {
            background: var(--rose);
        }

        .q-dot.cur {
            background: var(--blush);
        }

        .q-label {
            font-size: .7rem;
            letter-spacing: .2em;
            text-transform: uppercase;
            color: rgba(242, 167, 186, .4);
            margin-bottom: 1rem;
        }

        .q-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(1.4rem, 3vw, 2rem);
            font-style: italic;
            line-height: 1.4;
            color: var(--cream);
            margin-bottom: 2rem;
        }

        .q-opts {
            display: flex;
            flex-direction: column;
            gap: .7rem;
        }

        .q-opt {
            padding: 1rem 1.5rem;
            border: 1px solid rgba(242, 167, 186, .15);
            border-radius: 12px;
            background: rgba(255, 255, 255, .02);
            color: rgba(252, 238, 243, .8);
            font-family: 'DM Sans', sans-serif;
            font-size: .9rem;
            cursor: pointer;
            text-align: left;
            transition: all .25s;
        }

        .q-opt:hover {
            border-color: var(--blush);
            background: rgba(200, 41, 74, .08);
            color: white;
        }

        .q-opt.right {
            border-color: #4ade80;
            background: rgba(74, 222, 128, .1);
            color: #4ade80;
        }

        .q-opt.wrong {
            border-color: var(--rose);
            background: rgba(200, 41, 74, .15);
            color: var(--blush);
        }

        .q-opt.reveal {
            border-color: #4ade80;
            background: rgba(74, 222, 128, .08);
            color: #4ade80;
        }

        .q-opt:disabled {
            cursor: default;
        }

        .q-fb {
            margin-top: 1.2rem;
            padding: 1rem 1.4rem;
            border-radius: 10px;
            font-size: .88rem;
            line-height: 1.6;
            display: none;
        }

        .q-fb.show {
            display: block;
        }

        .q-fb.ok {
            background: rgba(74, 222, 128, .08);
            color: #4ade80;
            border: 1px solid rgba(74, 222, 128, .2);
        }

        .q-fb.nope {
            background: rgba(200, 41, 74, .08);
            color: var(--blush);
            border: 1px solid rgba(200, 41, 74, .2);
        }

        .q-next {
            margin-top: 1.5rem;
            padding: .8rem 2.2rem;
            background: var(--rose);
            color: white;
            border: none;
            border-radius: 50px;
            font-family: 'DM Sans', sans-serif;
            font-size: .85rem;
            font-weight: 500;
            letter-spacing: .08em;
            cursor: pointer;
            display: none;
            transition: transform .2s, box-shadow .2s;
        }

        .q-next:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(200, 41, 74, .5);
        }

        .q-next.show {
            display: block;
        }

        .q-result {
            display: none;
            text-align: center;
            padding: 2rem 0;
        }

        .q-result.show {
            display: block;
        }

        .q-result-big {
            font-size: 5rem;
            margin-bottom: 1rem;
            animation: pop .5s cubic-bezier(.4, 0, .2, 1);
        }

        @keyframes pop {
            0% {
                transform: scale(0)
            }

            80% {
                transform: scale(1.2)
            }

            100% {
                transform: scale(1)
            }
        }

        .q-result h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.2rem;
            font-style: italic;
            margin-bottom: .8rem;
        }

        .q-result p {
            font-size: .9rem;
            color: rgba(242, 167, 186, .7);
            line-height: 1.7;
        }

        .q-again {
            margin-top: 1.5rem;
            padding: .7rem 2rem;
            border: 1px solid rgba(242, 167, 186, .3);
            border-radius: 50px;
            background: none;
            color: var(--blush);
            font-family: 'DM Sans', sans-serif;
            cursor: pointer;
            font-size: .82rem;
            letter-spacing: .1em;
            transition: all .3s;
        }

        .q-again:hover {
            border-color: var(--blush);
            background: rgba(242, 167, 186, .05);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE 5 â€” GRAND FINALE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #p5 {
            background: radial-gradient(ellipse at 50% 50%, #2a0818 0%, #0d0508 70%);
            text-align: center;
        }

        .finale-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid rgba(200, 41, 74, .12);
            animation: expandRing 4s ease-out infinite;
        }

        @keyframes expandRing {
            0% {
                transform: translate(-50%, -50%) scale(.2);
                opacity: .6
            }

            100% {
                transform: translate(-50%, -50%) scale(2.5);
                opacity: 0
            }
        }

        .finale-content {
            position: relative;
            z-index: 2;
        }

        .finale-eyebrow {
            font-size: .72rem;
            letter-spacing: .25em;
            text-transform: uppercase;
            color: var(--gold);
            margin-bottom: 1.5rem;
            opacity: 0;
            animation: fadeUp .9s .2s ease forwards;
        }

        .finale-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(3rem, 9vw, 8rem);
            font-weight: 300;
            font-style: italic;
            line-height: 1;
            color: var(--cream);
            opacity: 0;
            animation: fadeUp .9s .4s ease forwards;
        }

        .finale-title span {
            display: block;
            color: var(--rose);
            font-size: clamp(4rem, 12vw, 11rem);
        }

        .finale-subtitle {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(1.2rem, 3vw, 2rem);
            font-style: italic;
            color: var(--blush);
            margin-top: 1.2rem;
            opacity: 0;
            animation: fadeUp .9s .65s ease forwards;
        }

        .finale-msg {
            max-width: 480px;
            margin: 1.5rem auto 0;
            font-size: .9rem;
            line-height: 1.8;
            color: rgba(252, 238, 243, .55);
            opacity: 0;
            animation: fadeUp .9s .85s ease forwards;
        }

        .valentine-btns {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2.5rem;
            opacity: 0;
            animation: fadeUp .9s 1.1s ease forwards;
            flex-wrap: wrap;
        }

        .v-yes {
            padding: 1rem 3rem;
            background: linear-gradient(135deg, var(--rose), #8b1a2e);
            color: white;
            border: none;
            border-radius: 50px;
            font-family: 'DM Sans', sans-serif;
            font-size: .95rem;
            font-weight: 500;
            letter-spacing: .08em;
            cursor: pointer;
            box-shadow: 0 8px 40px rgba(200, 41, 74, .45);
            transition: transform .3s, box-shadow .3s;
        }

        .v-yes:hover {
            transform: scale(1.06);
            box-shadow: 0 12px 60px rgba(200, 41, 74, .7);
        }

        .v-no {
            padding: 1rem 2.5rem;
            border: 1px solid rgba(242, 167, 186, .25);
            background: none;
            color: rgba(242, 167, 186, .5);
            border-radius: 50px;
            font-family: 'DM Sans', sans-serif;
            font-size: .9rem;
            cursor: pointer;
            transition: all .3s;
            position: relative;
        }

        .v-no:hover {
            border-color: transparent;
            color: transparent;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media(max-width:700px) {
            .traits-layout {
                grid-template-columns: 1fr;
            }

            .trait-col:last-child {
                display: none;
            }

            .cards-row {
                gap: 1rem;
            }

            .flip-card {
                width: 160px;
                height: 220px;
            }

            #dots {
                right: 10px;
            }
        }

        /* â”€â”€ CONFETTI â”€â”€ */
        .cf {
            position: fixed;
            pointer-events: none;
            z-index: 9000;
            width: 8px;
            height: 8px;
            animation: cf-fall 3s ease-out forwards;
        }

        @keyframes cf-fall {
            0% {
                transform: translateY(-10px) rotate(0);
                opacity: 1
            }

            100% {
                transform: translateY(105vh) rotate(720deg);
                opacity: 0
            }
        }

        /* â”€â”€ GLITCH EFFECT â”€â”€ */
        @keyframes glitch {

            0%,
            100% {
                text-shadow: none;
                transform: none
            }

            20% {
                text-shadow: 3px 0 var(--rose);
                transform: skewX(-2deg)
            }

            40% {
                text-shadow: -3px 0 var(--gold);
                transform: skewX(2deg)
            }

            60% {
                text-shadow: 3px 0 var(--rose);
                transform: skewX(-1deg)
            }

            80% {
                text-shadow: none;
                transform: none
            }
        }
    </style>
</head>

<body>
    <!-- Background Music -->
    <audio id="bgMusic" autoplay loop controls
        style="position: fixed; bottom: 20px; left: 20px; z-index: 10000; opacity: 0.8;">
        <source src="song.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <canvas id="particleCanvas"></canvas>
    <div id="cursor"></div>
    <div id="cursor-trail"></div>

    <!-- Progress dots -->
    <div id="dots">
        <div class="dot active" onclick="goTo(0)"></div>
        <div class="dot" onclick="goTo(1)"></div>
        <div class="dot" onclick="goTo(2)"></div>
        <div class="dot" onclick="goTo(3)"></div>
        <div class="dot" onclick="goTo(4)"></div>
        <div class="dot" onclick="goTo(5)"></div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â• PAGE 0 â€” OPENING â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="page active" id="p0">
        <div class="envelope-wrap">
            <div class="p0-title serif">Ek Chota Sa<br /><span>love letter</span><br />tere liye</div>
            <div class="envelope" id="envelope" onclick="openEnvelope()">
                <div class="env-body">
                    <div class="env-flap"></div>
                    <div class="env-letter">
                        <div class="env-letter-text">For<br />meri monudi</div>
                    </div>
                    <div class="env-seal">ğŸ’Œ</div>
                </div>
            </div>
            <div class="p0-sub">Click the envelope to begin</div>
            <button class="open-btn" onclick="goTo(1)">Begin RISHVI â†’</button>
        </div>
        <div class="page-num">00 â€” Introduction</div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â• PAGE 1 â€” WHO YOU ARE â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="page" id="p1">
        <div class="starfield" id="starfield"></div>
        <div class="traits-layout">
            <div class="trait-col" id="col-left">
                <div class="trait-pill">Bholi hai but dil saaf hai ğŸŒ¿</div>
                <div class="trait-pill">Humesha mere jokes par hasti hai (bure bhi ho to bhi) ğŸ˜‚</div>
                <div class="trait-pill">Jaan se jyada pyar karti hai mujhe ğŸ’—</div>
                <div class="trait-pill">Meri Zindagi me responsibilities aur samajhdari ka naam monu haiâ˜ï¸</div>
            </div>
            <div class="center-circle">
                <div class="circle-glow">
                    <div class="circle-inner">
                        <div class="circle-emoji">ğŸŒ¹</div>
                        <div class="circle-label">You</div>
                    </div>
                </div>
                <div class="center-title serif">Everything<br />I love<br /><em>about you</em></div>
                <div class="center-sub">is infinite</div>
            </div>
            <div class="trait-col" id="col-right">
                <div class="trait-pill">Mera Golu Moluâœ¨</div>
                <div class="trait-pill">Meri Zindagi ğŸ </div>
                <div class="trait-pill">Gusse me to gaand bhi maar deti hai ğŸ¦‹</div>
                <div class="trait-pill">My Favorite Everything ğŸŒ™</div>
            </div>
        </div>
        <button class="continue-hint" onclick="goTo(2)">Continue â†“</button>
        <div class="page-num">01 â€” Kuch aisi hai meri monu</div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â• PAGE 2 â€” CONFESSIONS â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="page" id="p2">
        <div class="p2-header">
            <h2 class="serif">Thodi tareef kardeta hu chal<br /><em>( you deserve this )</em></h2>
            <p>Hover to reveal Â· tap to keep open</p>
        </div>
        <div class="cards-row">
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-inner">
                    <div class="flip-front">
                        <div class="flip-front-emoji">ğŸŒ™</div>
                        <div class="serif" style="font-size:1rem;font-style:italic;color:var(--blush)">Confession I
                        </div>
                        <div class="flip-front-hint">hover to reveal</div>
                    </div>
                    <div class="flip-back">
                        <div class="flip-num">01 / 05</div>
                        <p>"You are the last thought I have before I sleep, and the first reason I smile each morning.
                            subah ek khayal aata hai ki monu kya kar rhi hogi kab soyi hogi, kab uthi hogi, to tu please
                            sone se pehle humesha message karke bataya kar pls, msg nahi ho to bhi voice note krdia kar"
                        </p>
                    </div>
                </div>
            </div>
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-inner">
                    <div class="flip-front">
                        <div class="flip-front-emoji">ğŸ˜‚</div>
                        <div class="serif" style="font-size:1rem;font-style:italic;color:var(--blush)">Confession II
                        </div>
                        <div class="flip-front-hint">hover to reveal</div>
                    </div>
                    <div class="flip-back">
                        <div class="flip-num">02 / 05</div>
                        <p>"I laugh harder with you than with anyone else alive. Like jab tu koi joke mare aaur apni
                            telepathy jud jaye tab apan jo haste hai na , bhale hi its about us or something else, thats
                            the lightest my lungs and body ever feel.
                            "</p>
                    </div>
                </div>
            </div>
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-inner">
                    <div class="flip-front">
                        <div class="flip-front-emoji">ğŸ›¡ï¸</div>
                        <div class="serif" style="font-size:1rem;font-style:italic;color:var(--blush)">Confession III
                        </div>
                        <div class="flip-front-hint">hover to reveal</div>
                    </div>
                    <div class="flip-back">
                        <div class="flip-num">03 / 05</div>
                        <p>"With you I have never once had to pretend. mai humesha saccha reh sakta hu tere sath aur
                            yehi khoobsurati hai hum dono ki monu,, haha tabhi mai har kisi ko judge kardeta hu tere
                            saamne , kyuki mujhe pata hai meri monu mujhe judge kar hi nahi sakti , judge karegi bhi
                            kaise ,ek hi thaali ke chatte batte hai hum
                            "</p>
                    </div>
                </div>
            </div>
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-inner">
                    <div class="flip-front">
                        <div class="flip-front-emoji">â­</div>
                        <div class="serif" style="font-size:1rem;font-style:italic;color:var(--blush)">Confession IV
                        </div>
                        <div class="flip-front-hint">hover to reveal</div>
                    </div>
                    <div class="flip-back">
                        <div class="flip-num">04 / 05</div>
                        <p>"I notice everything about you. But saamne se batau nahi iska matlab ye nhi ki mujhe idea
                            nahi hai, sirf terpe hi focus karta hu ache se , aur hai hi kya mere pas focus krne ko tere
                            alawa hein?"</p>
                    </div>
                </div>
            </div>
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-inner">
                    <div class="flip-front">
                        <div class="flip-front-emoji">ğŸ’«</div>
                        <div class="serif" style="font-size:1rem;font-style:italic;color:var(--blush)">Confession V
                        </div>
                        <div class="flip-front-hint">hover to reveal</div>
                    </div>
                    <div class="flip-back">
                        <div class="flip-num">05 / 05</div>
                        <p>"In every version of my life, in every timeline , i would choose you to be my everything and
                            i love you more than anything monu"
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <button class="continue-hint" onclick="goTo(3)" style="bottom:24px">Continue â†“</button>
        <div class="page-num">02 â€” Confessions</div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â• PAGE 3 â€” PHOTOS â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="page" id="p3">
        <div class="p3-header">
            <h2 class="serif">Our little <em>world</em></h2>
            <p>hehe sari kaise lagata islie pyari pyari kuch lagai haiâ˜ï¸</p>
        </div>
        <div class="polaroid-grid">
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="1.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Kha ja tu merko âœ¨</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="2.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">seal pack</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="3.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">My favourite day ğŸ’•</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="4.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Just us ğŸŒ™</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="5.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">A memory I keep ğŸŒ¸</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="6.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Always you ï¿½</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="7.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Sweet memories ğŸŒº</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="8.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Forever together ï¿½</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="9.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Pure happiness ğŸŒŸ</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="10.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Beautiful moments ï¿½</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="11.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">meri raani ï¿½</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="12.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Cherished times ğŸŒ·</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="13.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Love & joy ğŸ’–</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="14.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Special days ğŸ€</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="1.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">More memories ğŸŒ¹</div>
            </div>
            <div class="polaroid">
                <div class="polaroid-tape"></div>
                <div class="polaroid-photo">
                    <img src="2.jpeg" style="display: block;" />
                </div>
                <div class="polaroid-caption">Endless love ï¿½</div>
            </div>
        </div>
        <button class="continue-hint" onclick="goTo(4)">Continue â†“</button>
        <div class="page-num">03 â€” Memories</div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â• PAGE 4 â€” QUIZ â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="page" id="p4">
        <div class="quiz-wrap">
            <div class="quiz-bg-text">us</div>
            <div class="quiz-stage">
                <div class="q-indicator" id="qIndicator"></div>
                <div id="qInner"></div>
                <div class="q-result" id="qResult"></div>
            </div>
        </div>
        <div class="page-num">04 â€” Quiz</div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â• PAGE 5 â€” FINALE â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="page" id="p5">
        <div class="finale-ring" style="width:400px;height:400px;top:50%;left:50%;animation-delay:0s"></div>
        <div class="finale-ring" style="width:400px;height:400px;top:50%;left:50%;animation-delay:1.3s"></div>
        <div class="finale-ring" style="width:400px;height:400px;top:50%;left:50%;animation-delay:2.6s"></div>

        <div class="finale-content">
            <div class="finale-eyebrow">February 14, 2026 Â· Made with love by your rishu</div>
            <div class="finale-title serif">
                Happy<br />
                <span>Valentine's</span>
                Day
            </div>
            <div class="finale-subtitle serif">â€¦will you be mine?</div>
            <div class="finale-msg">
                This isn't just for today. Every single day I am grateful that the universe, in all its chaos, somehow
                managed to put you in my life. I love you more than any webpage could ever say.
            </div>
            <div class="valentine-btns">
                <button class="v-yes" onclick="sayYes()">Absolutely, yes ğŸ’•</button>
                <button class="v-no" id="noBtn" onmouseover="runAway(this)" onclick="sayYes()">Maybe notâ€¦</button>
            </div>
        </div>
        <div class="page-num">05 â€” Finale</div>
    </section>

    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  CURSOR
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const cursor = document.getElementById('cursor');
        const trail = document.getElementById('cursor-trail');
        let mx = 0, my = 0, tx = 0, ty = 0;
        document.addEventListener('mousemove', e => {
            mx = e.clientX; my = e.clientY;
            cursor.style.left = mx + 'px'; cursor.style.top = my + 'px';
        });
        setInterval(() => {
            tx += (mx - tx) * .18; ty += (my - ty) * .18;
            trail.style.left = tx + 'px'; trail.style.top = ty + 'px';
        }, 16);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PARTICLE CANVAS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const canvas = document.getElementById('particleCanvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resizeCanvas() {
            canvas.width = innerWidth;
            canvas.height = innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        class Particle {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.r = Math.random() * 2 + .5;
                this.vx = (Math.random() - .5) * .3;
                this.vy = -Math.random() * .4 - .1;
                this.life = Math.random();
                this.maxLife = Math.random() * .8 + .4;
                this.col = Math.random() > .5 ? '200,41,74' : '212,160,74';
            }
            draw() {
                const a = Math.sin(this.life / this.maxLife * Math.PI) * .5;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(${this.col},${a})`;
                ctx.fill();
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                this.life += .008;
                if (this.life > this.maxLife || this.y < 0) this.reset();
            }
        }

        for (let i = 0; i < 120; i++)particles.push(new Particle());
        function animParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animParticles);
        }
        animParticles();

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PAGE NAVIGATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let currentPage = 0;
        const pages = document.querySelectorAll('.page');
        const dotEls = document.querySelectorAll('.dot');
        const transitions = ['enter-fade', 'enter-up', 'enter-curtain', 'enter-up', 'enter-fade', 'enter-curtain'];

        function goTo(n) {
            if (n === currentPage) return;

            // Start music on first user interaction
            const music = document.getElementById('bgMusic');
            if (music && music.paused) {
                music.play().catch(e => console.log('Autoplay blocked:', e));
            }

            const old = pages[currentPage];
            const next = pages[n];
            const dir = n > currentPage ? 'exit-up' : 'exit-fade';

            old.classList.add(dir);
            setTimeout(() => {
                old.classList.remove('active', dir);
                next.classList.add('active', transitions[n] || 'enter-fade');
                setTimeout(() => next.classList.remove(...transitions), 900);
            }, 600);

            dotEls.forEach((d, i) => d.classList.toggle('active', i === n));
            currentPage = n;

            // on-enter hooks
            if (n === 1) animTraits();
            if (n === 4) initQuiz();
            if (n === 5) setTimeout(launchConfetti, 600);
        }

        // keyboard nav
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                if (currentPage < 5) goTo(currentPage + 1);
            }
            if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                if (currentPage > 0) goTo(currentPage - 1);
            }
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PAGE 0 â€” ENVELOPE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function openEnvelope() {
            document.getElementById('envelope').classList.add('open');
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PAGE 1 â€” STARS + TRAITS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const sf = document.getElementById('starfield');
        for (let i = 0; i < 90; i++) {
            const s = document.createElement('div');
            s.className = 'star';
            const sz = Math.random() * 2 + .5;
            s.style.cssText = `
    width:${sz}px;height:${sz}px;
    left:${Math.random() * 100}%;top:${Math.random() * 100}%;
    animation-duration:${2 + Math.random() * 4}s;
    animation-delay:${Math.random() * 4}s;
  `;
            sf.appendChild(s);
        }

        function animTraits() {
            document.querySelectorAll('.trait-pill').forEach((p, i) => {
                setTimeout(() => p.classList.add('vis'), i * 120 + 200);
            });
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PAGE 3 â€” POLAROIDS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function loadPol(e, idx) {
            const f = e.target.files[0]; if (!f) return;
            const r = new FileReader();
            r.onload = ev => {
                const img = document.getElementById('ph' + idx);
                img.src = ev.target.result;
                img.style.display = 'block';
                img.parentElement.querySelector('.pol-icon').style.display = 'none';
                img.parentElement.querySelector('.pol-hint').style.display = 'none';
            };
            r.readAsDataURL(f);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PAGE 4 â€” QUIZ
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Qs = [
            { q: "What was the very first thing that caught your attention about me?", opts: ["Your smile ğŸ˜Š", "Your energy âœ¨", "Your laugh ğŸ˜‚", "Your eyes ğŸ‘€"], ans: 1, fb: { y: "That smile was absolutely the beginning of everything ğŸ’•", n: "Honestly so sweet â€” but it was that smile that had me from the start ğŸ¥º" } },
            { q: "Pick the song that best describes us", opts: ["Perfect â€“ Ed Sheeran", "Love Story â€“ Taylor Swift", "Thinking Out Loud", "All of Me â€“ John Legend"], ans: 3, fb: { y: "'All of me loves all of you' â€” yep, that's exactly it ğŸ’—", n: "All beautiful choices! But 'All of Me' just feels like *us* ğŸ’•" } },
            { q: "If we could spend one perfect day together, where would it be?", opts: ["A beach at sunset ğŸŒ…", "A cozy rainy cafÃ© â˜•", "Exploring a new city ğŸŒ†", "Literally anywhere, together ğŸ¤"], ans: 3, fb: { y: "Yes. The place never mattered â€” just us, always ğŸ¥º", n: "Every option is beautiful, but the truth? Anywhere with you is perfect ğŸ’•" } },
            { q: "What do I do that makes you feel most loved?", opts: ["Remember tiny details", "Always check in on you", "Make you laugh", "All of it ğŸ’•"], ans: 3, fb: { y: "You got it ğŸ¥¹ It's all of it, always", n: "Actually? It's everything â€” every single little thing ğŸ’•" } },
            { q: "What are we?", opts: ["Chaos ğŸŒªï¸", "Home ğŸ ", "Magic âœ¨", "Just us ğŸ’•"], ans: 3, fb: { y: "Just us. Two words that mean the entire world.", n: "All perfect â€” but 'just us' says everything that matters ğŸ’•" } },
        ];
        let qi = 0, qs = 0, qAnswered = false;

        function initQuiz() { qi = 0; qs = 0; qAnswered = false; renderQ(); }

        function renderQ() {
            const qr = document.getElementById('qResult');
            const qi2 = document.getElementById('qInner');
            qr.classList.remove('show');
            qi2.style.display = 'block';

            const ind = document.getElementById('qIndicator');
            ind.innerHTML = Qs.map((_, i) => `<div class="q-dot${i < qi ? ' done' : i === qi ? ' cur' : ''}"></div>`).join('');

            const Q = Qs[qi];
            qi2.innerHTML = `
    <div class="q-label">Question ${qi + 1} of ${Qs.length}</div>
    <div class="q-text serif">${Q.q}</div>
    <div class="q-opts">
      ${Q.opts.map((o, i) => `<button class="q-opt" id="qo${i}" onclick="pickQ(${i})">${o}</button>`).join('')}
    </div>
    <div class="q-fb" id="qFb"></div>
    <button class="q-next" id="qNx" onclick="nextQ()">${qi < Qs.length - 1 ? 'Next question â†’' : 'See results ğŸ‰'}</button>
  `;
            qAnswered = false;
        }

        function pickQ(c) {
            if (qAnswered) return;
            qAnswered = true;
            const Q = Qs[qi];
            const ok = c === Q.ans;
            if (ok) qs++;
            Qs[qi].opts.forEach((_, i) => {
                const b = document.getElementById('qo' + i);
                b.disabled = true;
                if (i === Q.ans) b.className = 'q-opt right';
                else if (i === c && !ok) b.className = 'q-opt wrong';
            });
            const fb = document.getElementById('qFb');
            fb.textContent = ok ? Q.fb.y : Q.fb.n;
            fb.className = 'q-fb show ' + (ok ? 'ok' : 'nope');
            document.getElementById('qNx').className = 'q-next show';
        }

        function nextQ() {
            qi++;
            if (qi >= Qs.length) showQResult();
            else renderQ();
        }

        function showQResult() {
            document.getElementById('qInner').style.display = 'none';
            const qr = document.getElementById('qResult');
            let em, ti, msg;
            if (qs === Qs.length) { em = 'ğŸ†'; ti = 'You know us perfectly.'; msg = `${qs}/${Qs.length} â€” You answered every single one. I knew you would. You know me better than anyone. ğŸ’•`; }
            else if (qs >= 3) { em = 'ğŸ’•'; ti = 'You really do know me.'; msg = `${qs}/${Qs.length} â€” Look at you. You remember more than you think. I love that about you. ğŸ¥º`; }
            else { em = 'ğŸ˜‚'; ti = 'Room to grow â€” together.'; msg = `${qs}/${Qs.length} â€” Some were tough! But the best part is we spend forever learning each other. ğŸ’•`; }
            qr.innerHTML = `
    <div class="q-result-big">${em}</div>
    <h3 class="serif">${ti}</h3>
    <p>${msg}</p>
    <button class="q-again" onclick="initQuiz()">Try again ğŸ”„</button>
    <br/><button class="q-next show" onclick="goTo(5)" style="margin-top:1rem">The grand finale â†’</button>
  `;
            qr.classList.add('show');
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PAGE 5 â€” FINALE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function runAway(btn) {
            const x = (Math.random() - .5) * 400;
            const y = (Math.random() - .5) * 200;
            btn.style.transform = `translate(${x}px,${y}px)`;
        }

        function sayYes() {
            launchConfetti();
            const btn = document.querySelector('.valentine-btns');
            btn.innerHTML = '<div style="font-family:\'Cormorant Garamond\',serif;font-size:2.5rem;font-style:italic;color:var(--blush);animation:pop .5s cubic-bezier(.4,0,.2,1)">I knew it ğŸ¥¹ I love you ğŸ’•</div>';
        }

        function launchConfetti() {
            const cols = ['#c8294a', '#f2a7ba', '#d4a04a', '#fceef3', '#fff'];
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const el = document.createElement('div');
                    el.className = 'cf';
                    el.style.cssText = `
        left:${Math.random() * 100}vw;
        background:${cols[Math.floor(Math.random() * cols.length)]};
        border-radius:${Math.random() > .5 ? '50%' : '2px'};
        width:${5 + Math.random() * 8}px;
        height:${5 + Math.random() * 8}px;
        animation-duration:${2 + Math.random() * 2.5}s;
        animation-delay:${Math.random() * .8}s;
      `;
                    document.body.appendChild(el);
                    setTimeout(() => el.remove(), 5000);
                }, i * 25);
            }
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  SCROLL WHEEL NAV
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let wheelLock = false;
        window.addEventListener('wheel', e => {
            if (wheelLock) return;
            if (e.deltaY > 40 && currentPage < 5) { goTo(currentPage + 1); wheelLock = true; setTimeout(() => wheelLock = false, 1200); }
            if (e.deltaY < -40 && currentPage > 0) { goTo(currentPage - 1); wheelLock = true; setTimeout(() => wheelLock = false, 1200); }
        }, { passive: true });

        // touch swipe
        let ty0 = 0;
        window.addEventListener('touchstart', e => ty0 = e.touches[0].clientY, { passive: true });
        window.addEventListener('touchend', e => {
            const dy = ty0 - e.changedTouches[0].clientY;
            if (dy > 50 && currentPage < 5) goTo(currentPage + 1);
            if (dy < -50 && currentPage > 0) goTo(currentPage - 1);
        }, { passive: true });
    </script>
</body>

</html>